Of course. Here is a comprehensive `DOCKER_README.md` that is clear, professional, and provides users with everything they need to use the Docker setup effectively. It covers everything from a simple quick start to advanced configuration and troubleshooting.

This file should be saved as `DOCKER_README.md` in the root of your project.

---

### `DOCKER_README.md`

```markdown
# NetworkMapper v2 - Docker Setup & Usage Guide

Welcome to the official Docker guide for NetworkMapper v2. Using Docker is the recommended way to run this application, as it provides a consistent, pre-configured environment with all dependencies included. This completely eliminates "it works on my machine" problems.

---

## üöÄ Quick Start

For users who just want to get up and running immediately.

**Prerequisites:**
*   Docker & Docker Compose are installed on your system. If not, run our automated installer first:
    ```bash
    chmod +x ./scripts/docker.sh && ./scripts/docker.sh
    ```

**One-Command Setup & Run:**
The `Makefile` provides a single command to handle everything. From the project root, run:

```bash
make docker
```
This command will:
1.  **Install Docker** if it's missing (`docker-install`).
2.  **Build the application image** (`docker-build`).
3.  **Launch the interactive menu** (`docker-run`).

---

## üì¶ What the Docker Setup Provides

The Docker environment is a self-contained Linux system that includes:
- **Python 3.11** and all required `pip` packages.
- All necessary system tools: **`nmap`**, **`masscan`**, and **`arp-scan`**.
- Pre-configured **`sudo` permissions** for network scanning without a password prompt inside the container.
- A streamlined experience managed by simple `make` commands.

---

## üéØ Core Docker Commands

These commands are the primary way to interact with the Dockerized application. They should be run from the project's root directory.

### 1. Build the Docker Image

You only need to do this once, or whenever you change the `Dockerfile` or `requirements.txt`.

```bash
make docker-build
```
This command reads the `ops/Dockerfile` and builds an image named `networkmapper:latest`.

### 2. Run the Interactive Menu

This is the main command you will use to start the application.

```bash
make docker-run
```
This starts the container and drops you directly into the interactive menu. When you exit the application, the container is automatically removed to keep your system clean.

### 3. Run a Non-Interactive Scan

To run a scan with specific parameters, pass them after the `docker compose run` command. Note that `make` shortcuts don't support passing dynamic arguments easily, so you use `docker compose` directly for this.

**Example: Deeper scan on a specific subnet**
```bash
docker compose run --rm networkmapper --target 192.168.1.0/24 --scan-type deeper
```

**Example: Fast scan on a large network**
```bash
docker compose run --rm networkmapper --target 10.0.0.0/16 --scan-type fast
```

### 4. Accessing a Shell Inside the Container

For debugging or development, you can open a `bash` shell inside the running container environment.

```bash
docker compose run --rm networkmapper bash
```
From this shell, you can run commands like `nmap`, `python3 mapper.py`, etc., directly.

---

## üìÅ Data Persistence & Reports

All data generated by NetworkMapper (scans, reports, exports, logs) is saved to the `./output` directory on your host machine.

The `docker compose.yml` file uses a **volume mount** to link the container's `/app/output` directory to the `output/` folder in your project.

**This means:**
-   Reports you generate inside Docker are immediately available on your computer.
-   Your scan history is preserved even after the container stops.
-   You can view HTML reports directly in your host machine's browser.

---

## üîß Troubleshooting Common Issues

#### Issue: `Permission denied` or `Operation not permitted` during a scan.

-   **Cause:** The container lacks the necessary privileges to access the network stack.
-   **Solution:** Ensure your `docker compose.yml` includes `network_mode: "host"` and `privileged: true`. The provided file already has this configured. This issue can also occur on systems with strict security modules like AppArmor or SELinux.

#### Issue: Scans cannot find any devices on the local network.

-   **Cause:** The container is not using the host's network. This is the most common problem.
-   **Solution:** Verify that `network_mode: "host"` is set in your `docker compose.yml`. This makes the container share the same network interface as your computer, allowing it to see other devices on your LAN.

#### Issue: The container exits immediately after `make docker-run`.

-   **Cause:** There might be an error in the Python script that causes it to crash on startup.
-   **Solution:** Check the logs for errors. Run the command without `--rm` to inspect the stopped container.
    ```bash
    # Run without auto-removal
    docker compose run networkmapper
    
    # Check the logs of the last exited container
    docker ps -a
    docker logs <container_id_from_previous_command>
    ```

#### Issue: `docker compose: command not found`

-   **Cause:** The Docker Compose plugin is not installed or not in the system's PATH.
-   **Solution:** Run the automated installer:
    ```bash
    ./scripts/docker.sh
    ```

---

## üßπ Cleaning Up

To remove all Docker resources associated with this project (the container image and any stopped containers), run:

```bash
make docker-clean
```
This command is safe and will not delete your `./output` data directory.
```
